<!DOCTYPE html>
<html>
<head>
    <title>Ascension | Crossed Banners</title>
    <link rel="stylesheet" type="text/css" href="semantic/dist/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.4.2/firebase.js"></script>
    <meta content='width=device-width, initial-scale=1' name='viewport'/>
</head>
<body>

<div class="ui hidden failed negative message">
  <i class="close icon"></i>
  <div class="header">
    We're sorry - Login failed for some reason.
  </div>
  <p>Please contact m@type.hk for support.
</p></div>

<!-- Sidebar Menu -->
    <div class="ui inverted vertical sidebar menu">
      <a href="http://tijptjik.github.io/ascension/S06/code/" class="active item">Home</a>
      <a href="rules.html" class="item">Rules</a>
      <a class="item disabled">Leaderboard</a>
    </div>
    <!-- Page Contents -->
    <div class="pusher">
      <div class="ui vertical masthead center aligned segment">
        <div class="ui container">
          <div class="ui large secondary pointing menu">
            <a class="toc item">
              <i class="sidebar icon"></i>
            </a>
            <a href="http://tijptjik.github.io/ascension/S06/code/" class="active item">Home</a>
            <a href="rules.html" class="item">Rules</a>
            <a class="item disabled">Leaderboard</a>
          </div>
        </div>
      </div>

      <div class="ui text container">
        <form class="ui form">
            <div class="ui">
                <h2 style="text-align: center;">EPISODE VOTING</h2>
            </div>
        <h4 class="ui horizontal divider header" style="overflow: visible;">
         <div class="ui inline dropdown">
          <div class="text">
            <i class="circle notched icon"></i>
            6x01 ~ The Red Women
          </div>
          <i class="dropdown icon"></i>
          <div class="menu episodes"></div>
        </div>
        </h4>
        <!-- <h2 class="ui horizontal divider header">
              <i class="bar trophy icon"></i>
              Waiting for all Players to Join the League.
        </h2>
 -->
    </div>

      <!-- <h4 class="ui horizontal divider header">
          <i class="bar diamond icon"></i>
          Missions
        </h4>
        Characters are listed with their house colour and name. Between brackets you'll find their Prominence, Violence and Diplomacy powers.
        <div class="ui accordion field">
          <div class="title">
            <i class="icon dropdown"></i>
            HELP : How do I select my characters?
          </div>
          <div class="content field">
            <div class="ui celled ordered list">
              <div class="item">Pick characters which excell at being <a target="_blank" href="https://github.com/tijptjik/ascension/blob/gh-pages/S06/rules.md#award-categories">violent, witty, cunning, supportive or stylish</a>.</div>
              <div class="item">Consider their <a target="_blank" href="https://github.com/tijptjik/ascension/blob/gh-pages/S06/rules.md#prominence-multiplier">Prominence</a> - the roman numeral behind their name - Greater prominence makes it harder for them to score points.</div>
              <div class="item">Pick at least some characters with strong Violence and Diplomany Powers - See <a target="_blank" href="https://github.com/tijptjik/ascension/blob/gh-pages/S06/character.powers.csv">Character Powers</a> for a full list</div>
              <div class="item">Avoid obvious choices - they will get killed.</div>
            </div>
          </div>
          <div class="title">
            <i class="icon dropdown"></i>
            HELP : What do the character colours mean?
          </div>
          <div class="content field">
            <div class="ui divided aligned list housecolours"></div>
          </div>
        </div>
      <div class="field">
        <label>Slot I</label>
        <div class="ui fluid search selection dropdown">
          <input type="hidden" name="char_1">
          <i class="dropdown icon"></i>
          <div class="default text">Select Character</div>
          <div class="menu characters">
          </div>
          </div>
      </div>
      <div class="field">
        <label>Slot II</label>
        <div class="ui fluid search selection dropdown">
          <input type="hidden" name="char_1">
          <i class="dropdown icon"></i>
          <div class="default text">Select Character</div>
          <div class="menu characters">
          </div>
        </div>
      </div>
        <div class="field">
        <label>Slot III</label>
        <div class="ui fluid search selection dropdown">
          <input type="hidden" name="char_1">
          <i class="dropdown icon"></i>
          <div class="default text">Select Character</div>
          <div class="menu characters">
          </div>
          </div>
      </div>
      <div class="field">
        <label>Slot IV</label>
        <div class="ui fluid search selection dropdown">
          <input type="hidden" name="char_1">
          <i class="dropdown icon"></i>
          <div class="default text">Select Character</div>
          <div class="menu characters">
          </div>
        </div>
      </div>
      <div class="field">
        <label>Slot V</label>
        <div class="ui fluid search selection dropdown">
          <input type="hidden" name="char_1">
          <i class="dropdown icon"></i>
          <div class="default text">Select Character</div>
          <div class="menu characters">
          </div>
        </div>
      </div>
      <div class="field">
        <label>Slot VI</label>
        <div class="ui fluid search selection dropdown">
          <input type="hidden" name="char_1">
          <i class="dropdown icon"></i>
          <div class="default text">Select Character</div>
          <div class="menu characters">
          </div>
        </div>
      </div>
      <div class="field">
        <label>Slot VII</label>
        <div class="ui fluid search selection dropdown">
          <input type="hidden" name="char_1">
          <i class="dropdown icon"></i>
          <div class="default text">Select Character</div>
          <div class="menu characters">
          </div>
        </div>
      </div>
      <br>
      <div class="fluid ui button submit inverted huge blue center">Submit</div>
      <div class="ui error message"></div>
    </form>
    <br>
    <br>
    <br> -->

</div>


<script src="semantic/dist/semantic.min.js"></script>

<script>

var db = new Firebase("https://ascension.firebaseio.com");

// Firebase Forms

// Episodes

function populateEpisodeDropdown(episodes){
  var html = "";
  var current_episode = '51';
  for (var ep in episodes) {
    if (episodes.hasOwnProperty(ep) && episodes[ep]['has_aired']) {
      var episode = episodes[ep]
      var str = '<div class="item" data-value='+ episode.number +'><i class="circle notched icon"></i>6x'+episode.episode_number +' ~ '+ episode.title +'</div>'
      html += str;
      if (episodes[ep]['current']){
        current_episode = episodes[ep]['number'];
      }
    }
  }
  $('.episodes').append(html)
  $('.ui.dropdown').dropdown("set selected", current_episode)
}

db.child('episodes').once('value', function(snapshot){
  var episodes = snapshot.val();
  populateEpisodeDropdown(episodes);
});


  

</script>
</body>
</html>